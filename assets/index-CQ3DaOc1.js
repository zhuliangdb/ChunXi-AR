const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/home-BJH0pKiw.js","assets/chunks/vendor-CWNAqoMw.js","assets/home-CkR1cXsN.css","assets/chunks/culture-BoQnYdwr.js","assets/culture-B4dJ9eSR.css","assets/chunks/ar-Ck0-vEIx.js","assets/ar-DadRu1FT.css","assets/chunks/game-Ba5G7VaC.js","assets/game-Uu5ilpCv.css","assets/chunks/wishes-LGIfzkN-.js","assets/wishes-CqgTa6Sn.css"])))=>i.map(i=>d[i]);
import{d as e,e as a,f as t,o as n,c as o,g as r,F as l,m as s,r as i,i as c,n as u,a as d,y as m,t as h,b as v,j as p,w as f,A as g,u as y,T as w,B as b,C as k,D as _}from"./chunks/vendor-CWNAqoMw.js";import{u as C}from"./chunks/wishes-LGIfzkN-.js";import{_ as E}from"./chunks/home-BJH0pKiw.js";import"./chunks/culture-BoQnYdwr.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const L={},S=function(e,a,t){let n=Promise.resolve();if(a&&a.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),o=t?.nonce||t?.getAttribute("nonce");n=e(a.map(e=>{if((e=function(e){return"/"+e}(e))in L)return;L[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const n=document.createElement("link");return n.rel=a?"stylesheet":"modulepreload",a||(n.as="script"),n.crossOrigin="",n.href=e,o&&n.setAttribute("nonce",o),document.head.appendChild(n),a?new Promise((a,t)=>{n.addEventListener("load",a),n.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return n.then(a=>{for(const e of a||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},x=E(e({__name:"BackgroundDecoration",props:{lanternCount:{},snowflakeCount:{},lanternScale:{},snowOpacity:{},enableAnimation:{type:Boolean}},setup(e){const m=e,h=i(!1),v=c(()=>{const e=m.lanternCount||20;return h.value?Math.max(5,Math.floor(e/2)):e}),p=c(()=>{const e=m.snowflakeCount||50;return h.value?Math.max(10,Math.floor(e/2)):e}),f=c(()=>m.lanternScale||1),g=c(()=>m.snowOpacity||.8),y=()=>{h.value=window.innerWidth<768};return a(()=>{y(),window.addEventListener("resize",y)}),t(()=>{window.removeEventListener("resize",y)}),(e,a)=>(n(),o("div",{class:r(["background-decoration animate",{mobile:h.value}])},[(n(!0),o(l,null,s(v.value,e=>(n(),o("div",{key:`lantern-${e}`,class:"lantern",style:u({left:100*Math.random()+"%",animationDelay:5*Math.random()+"s",animationDuration:8+4*Math.random()+"s",transform:`scale(${f.value})`})},[...a[0]||(a[0]=[d("div",{class:"lantern-top"},null,-1),d("div",{class:"lantern-body"},[d("div",{class:"lantern-light"})],-1),d("div",{class:"lantern-bottom"},null,-1)])],4))),128)),(n(!0),o(l,null,s(p.value,e=>(n(),o("div",{key:`snow-${e}`,class:"snow",style:u({left:100*Math.random()+"%",animationDelay:10*Math.random()+"s",animationDuration:10+10*Math.random()+"s",fontSize:8+12*Math.random()+"px",opacity:g.value})}," ❄️ ",4))),128))],2))}}),[["__scopeId","data-v-ed6f3b13"]]),M={class:"navbar-container"},T=["aria-pressed"],A={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P=["aria-expanded"],j=["href","onClick","aria-current"],O={class:"nav-link-text"},V=E(e({__name:"Navbar",props:{activeSection:{}},emits:["navigate"],setup(e,{emit:c}){const v=c,p=i(!1),f=i(!1),g=i(!1),y=i(!1),w=i(!1),b=[{id:"home",label:"首页"},{id:"culture",label:"地域文化"},{id:"ar",label:"AR体验"},{id:"game",label:"互动游玩"},{id:"wishes",label:"祝福系统"}],k=()=>{p.value=!p.value},_=e=>{v("navigate",e),p.value=!1},C=()=>{f.value=!f.value,E()},E=()=>{f.value?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),localStorage.setItem("theme","dark")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},L=e=>{const a=e.currentTarget;a.classList.contains("menu-toggle")?y.value=!0:a.classList.contains("theme-toggle")&&(w.value=!0),a.classList.add("touch-active")},S=e=>{const a=e.currentTarget;a.classList.contains("menu-toggle")?setTimeout(()=>{y.value=!1},200):a.classList.contains("theme-toggle")&&setTimeout(()=>{w.value=!1},200),setTimeout(()=>{a.classList.remove("touch-active")},200)},x=()=>{g.value=window.scrollY>50};return a(()=>{const e=localStorage.getItem("theme");f.value=e?"dark"===e:window.matchMedia("(prefers-color-scheme: dark)").matches,E(),window.addEventListener("scroll",x),x()}),t(()=>{window.removeEventListener("scroll",x)}),(a,t)=>(n(),o("header",{class:r(["navbar",{"navbar-scrolled":g.value}])},[d("div",M,[d("div",{class:"logo",onClick:t[0]||(t[0]=e=>_("home")),tabindex:"0"},[...t[1]||(t[1]=[d("h1",null,"新春祝福",-1),d("div",{class:"year"},"2026年",-1)])]),d("button",{class:r(["theme-toggle",{"button-active":w.value}]),onClick:C,onTouchstart:L,onTouchend:S,"aria-label":"切换深色模式","aria-pressed":f.value},[f.value?(n(),o("svg",A,[...t[2]||(t[2]=[d("path",{d:"M12 16C14.21 16 16 14.21 16 12C16 9.79 14.21 8 12 8C9.79 8 8 9.79 8 12C8 14.21 9.79 16 12 16ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"},null,-1)])])):(n(),o("svg",I,[...t[3]||(t[3]=[d("path",{d:"M20 8.69V4H15.31L12 7.31 8.69 4H4V8.69L7.31 12 4 15.31V20H8.69L12 16.69 15.31 20H20V15.31L16.69 12 20 8.69Z",fill:"currentColor"},null,-1)])]))],42,T),d("button",{class:r(["menu-toggle",{"menu-open":p.value,"button-active":y.value}]),onClick:k,onTouchstart:L,onTouchend:S,"aria-label":"切换导航菜单","aria-expanded":p.value,"aria-controls":"main-nav"},[...t[4]||(t[4]=[d("span",{class:"menu-icon"},null,-1),d("span",{class:"menu-icon"},null,-1),d("span",{class:"menu-icon"},null,-1)])],42,P),d("nav",{id:"main-nav",class:r(["nav-menu",{"menu-open":p.value}]),"aria-label":"主导航"},[d("ul",null,[(n(),o(l,null,s(b,(a,n)=>d("li",{key:a.id,class:"nav-item",style:u({animationDelay:.1*n+"s"})},[d("a",{href:"#"+a.id,onClick:m(e=>_(a.id),["prevent"]),onTouchstart:L,onTouchend:S,class:r([{active:e.activeSection===a.id},"nav-link"]),"aria-current":e.activeSection===a.id?"page":"false"},[d("span",O,h(a.label),1),t[5]||(t[5]=d("span",{class:"nav-link-indicator"},null,-1))],42,j)],4)),64))])],2)])],2))}}),[["__scopeId","data-v-3bbcb341"]]),D={class:"footer","aria-labelledby":"footer-heading"},R={class:"footer-container"},$={class:"footer-links","aria-label":"页脚导航"},q=["href","onClick","aria-label"],H=E(e({__name:"Footer",emits:["navigate"],setup(e,{emit:a}){const t=a,r=[{id:"home",label:"首页"},{id:"culture",label:"地域文化"},{id:"ar",label:"AR体验"},{id:"game",label:"互动游玩"},{id:"wishes",label:"祝福系统"}];return(e,a)=>(n(),o("footer",D,[d("div",R,[a[0]||(a[0]=d("div",{class:"footer-info"},[d("h3",{id:"footer-heading"},"新春祝福网站"),d("p",null,[d("small",null,"© 2026 新年快乐")])],-1)),d("nav",$,[d("ul",null,[(n(),o(l,null,s(r,e=>d("li",{key:e.id},[d("a",{href:"#"+e.id,onClick:m(a=>{return n=e.id,void t("navigate",n);var n},["prevent"]),"aria-label":e.label+"页面"},h(e.label),9,q)])),64))])])])]))}}),[["__scopeId","data-v-47b36952"]]),N={id:"app",class:"new-year-surprise","aria-label":"新春祝福网站"},z=["aria-labelledby"],B=["id"],Z={key:0,class:"loading-container flex items-center justify-center","aria-live":"polite","aria-busy":"true"},W={key:1,class:"error-container flex items-center justify-center","aria-live":"assertive","aria-atomic":"true"},F={class:"error-content max-w-md mx-auto",role:"alert","aria-labelledby":"error-title"},U=E(e({__name:"App",setup(e){const a=i(!1),t=i(!1),r=i(""),l={home:"首页 - 新春祝福网站",culture:"地域文化 - 新春祝福网站",ar:"AR体验 - 新春祝福网站",game:"互动游玩 - 新春祝福网站",wishes:"祝福系统 - 新春祝福网站"},s=C(),u=c(()=>s.activeSection),m=c(()=>l[u.value]||"新春祝福网站"),k=c(()=>`page-title-${u.value}`),_=b({loader:()=>S(()=>import("./chunks/home-BJH0pKiw.js").then(e=>e.H),__vite__mapDeps([0,1,2])),onError:e=>{console.error("加载Home组件失败:",e),t.value=!0,r.value="加载首页失败，请重试"}}),E=b({loader:()=>S(()=>import("./chunks/culture-BoQnYdwr.js").then(e=>e.C),__vite__mapDeps([3,1,0,2,4])),onError:e=>{console.error("加载Culture组件失败:",e),t.value=!0,r.value="加载地域文化页面失败，请重试"}}),L=b({loader:()=>S(()=>import("./chunks/ar-Ck0-vEIx.js"),__vite__mapDeps([5,3,1,0,2,4,6])),onError:e=>{console.error("加载AR组件失败:",e),t.value=!0,r.value="加载AR体验页面失败，请重试"}}),M=b({loader:()=>S(()=>import("./chunks/game-Ba5G7VaC.js"),__vite__mapDeps([7,1,3,0,2,4,8])),onError:e=>{console.error("加载Game组件失败:",e),t.value=!0,r.value="加载互动游玩页面失败，请重试"}}),T=b({loader:()=>S(()=>import("./chunks/wishes-LGIfzkN-.js").then(e=>e.W),__vite__mapDeps([9,1,3,0,2,4,10])),onError:e=>{console.error("加载Wishes组件失败:",e),t.value=!0,r.value="加载祝福系统页面失败，请重试"}}),A=async e=>{t.value=!1,r.value="",a.value=!0;try{s.setActiveSection(e),await new Promise(e=>setTimeout(e,300))}catch(n){console.error("导航失败:",n),t.value=!0,r.value="导航失败，请重试"}finally{a.value=!1}},I=()=>{t.value=!1,r.value="",A(u.value)};return(e,l)=>(n(),o("div",N,[v(x,{"aria-hidden":"true"}),v(V,{activeSection:u.value,onNavigate:A},null,8,["activeSection"]),d("main",{class:"main-content container","aria-labelledby":k.value,tabindex:"0"},[d("h1",{id:k.value,class:"sr-only"},h(m.value),9,B),a.value?(n(),o("div",Z,[...l[0]||(l[0]=[d("div",{class:"loading-spinner",role:"status","aria-label":"加载中"},[d("div",{class:"spinner","aria-hidden":"true"}),d("p",{class:"sr-only"},"加载中...")],-1)])])):t.value?(n(),o("div",W,[d("div",F,[l[1]||(l[1]=d("div",{class:"error-icon","aria-hidden":"true"},[d("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})])],-1)),l[2]||(l[2]=d("h3",{id:"error-title"},"加载失败",-1)),d("p",null,h(r.value),1),d("button",{onClick:I,class:"btn-primary","aria-label":"重试加载"},"重试")])])):p("",!0),v(w,{name:"page-fade",mode:"out-in"},{default:f(()=>["home"===u.value?(n(),g(y(_),{key:"home",onNavigate:A})):"culture"===u.value?(n(),g(y(E),{key:"culture"})):"ar"===u.value?(n(),g(y(L),{key:"ar"})):"game"===u.value?(n(),g(y(M),{key:"game"})):"wishes"===u.value?(n(),g(y(T),{key:"wishes"})):p("",!0)]),_:1})],8,z),v(H,{onNavigate:A})]))}}),[["__scopeId","data-v-e4a5989c"]]),G="high",K="low";function Y(){[{href:"https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap",as:"style",priority:G}].filter(e=>!0).forEach(e=>{const a=document.createElement("link");a.rel="preload",a.href=e.href,a.as=e.as,e.type&&(a.type=e.type),e.crossorigin&&(a.crossOrigin=e.crossorigin),e.imagesrcset&&(a.imageSrcset=e.imagesrcset),e.imagesizes&&(a.imageSizes=e.imagesizes),e.priority===G?a.fetchpriority="high":e.priority===K&&(a.fetchpriority="low"),document.head.appendChild(a)});["fonts.googleapis.com","fonts.gstatic.com"].forEach(e=>{const a=document.createElement("link");a.rel="dns-prefetch",a.href=`https://${e}`,document.head.appendChild(a)})}function J(e="img[data-src]",a={}){const t=document.querySelectorAll(e),n=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target,o=t.dataset.src||"";if(o){const e=function(e,a={}){if(!e)return"";if(e.includes("text_to_image")){const t=new URLSearchParams(e.includes("?")?e.split("?")[1]:"");return a.width&&t.set("width",a.width.toString()),a.height&&t.set("height",a.height.toString()),a.quality&&t.set("quality",a.quality.toString()),a.format&&t.set("format",a.format),`${e.split("?")[0]}?${t.toString()}`}return e}(o,{quality:a.quality||85});t.src=e}t.classList.remove("lazy"),t.classList.add("loaded"),n.unobserve(t)}})},{rootMargin:a.rootMargin||"200px 0px",threshold:a.threshold||.1});t.forEach(e=>{n.observe(e)})}!function(){if(["fonts.googleapis.com","fonts.gstatic.com","trae-api-cn.mchost.guru"].forEach(e=>{const a=document.createElement("link");a.rel="preconnect",a.href=`https://${e}`,a.crossOrigin="anonymous",document.head.appendChild(a)}),Y(),"undefined"!=typeof window){J("img[data-src]",{rootMargin:"300px 0px",threshold:.05,quality:85});const e=[],a=window.location.pathname;"/"!==a&&"/home"!==a||e.push("/culture","/ar","/game","/wishes"),e.length>0&&e.forEach(e=>{const a=document.createElement("link");a.rel="prefetch",a.href=e,document.head.appendChild(a)})}}();const Q=k(U),X=_();Q.use(X);C().loadWishesFromLocalStorage(),Q.mount("#app");

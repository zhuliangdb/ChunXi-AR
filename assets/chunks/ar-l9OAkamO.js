import{S as e,C as a,P as i,W as t,A as n,D as s,G as r,a as c,M as l,b as o,c as d,d as h,B as p,e as m}from"./three-DTpJ9Cnu.js";import{d as u,e as v,w as g,o as w,c as f,a as b,k as _,F as k,l as C,g as A,t as y,r as R}from"./vendor-DNtaHe1s.js";import{_ as F}from"./home-DKPjEYGr.js";class x{scene;camera;renderer;animationId=0;constructor(n){this.scene=new e,this.scene.background=new a(16314595),this.camera=new i(75,n.clientWidth/n.clientHeight,.1,1e3),this.camera.position.z=5,this.renderer=new t({antialias:!0}),this.renderer.setSize(n.clientWidth,n.clientHeight),n.appendChild(this.renderer.domElement),this.addLights(),this.animate(),window.addEventListener("resize",()=>this.onWindowResize(n))}addLights(){const e=new n(16777215,.5);this.scene.add(e);const a=new s(16777215,.8);a.position.set(1,1,1),this.scene.add(a)}createSpringFestivalModel(e){switch(e){case"lantern":return this.createLantern();case"firecracker":return this.createFirecracker();case"tiger":return this.createTiger();default:throw new Error(`ä¸æ”¯æŒçš„æ¨¡å‹ç±»å‹: ${e}`)}}createLantern(){const e=new r,a=new c(1,1,2,32),i=new l({color:12852794,transparent:!0,opacity:.8}),t=new o(a,i);e.add(t);const n=new d(1.2,.5,32),s=new o(n,i);s.position.y=1.25,e.add(s);const p=new d(1.2,.5,32),m=new o(p,i);m.position.y=-1.25,m.rotation.x=Math.PI,e.add(m);const u=new c(.05,.05,1,8),v=new o(u,new h({color:9127187}));return v.position.y=1.75,e.add(v),this.scene.add(e),e}createFirecracker(){const e=new r,a=new p(.5,3,.5),i=new l({color:12852794}),t=new o(a,i);e.add(t);const n=new c(.05,.05,.5,8),s=new o(n,new h({color:9127187}));return s.position.y=1.75,e.add(s),this.scene.add(e),e}createTiger(){const e=new r,a=new m(1,32,32),i=new l({color:14381203}),t=new o(a,i);e.add(t);const n=new m(.6,32,32),s=new o(n,i);return s.position.y=.8,e.add(s),this.scene.add(e),e}animate(){this.animationId=requestAnimationFrame(()=>this.animate()),this.scene.children.forEach(e=>{e instanceof r&&(e.rotation.y+=.01)}),this.renderer.render(this.scene,this.camera)}onWindowResize(e){this.camera.aspect=e.clientWidth/e.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(e.clientWidth,e.clientHeight)}destroy(e){for(cancelAnimationFrame(this.animationId),e.removeChild(this.renderer.domElement),this.renderer.dispose();this.scene.children.length>0;){const e=this.scene.children[0];e&&(this.scene.remove(e),e instanceof o&&(e.geometry.dispose(),Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):e.material.dispose()))}}}const z={class:"ar-section","aria-labelledby":"ar-heading"},D={class:"ar-container"},M={class:"ar-content"},S={class:"ar-preview"},j={class:"ar-scene-selector",role:"tablist","aria-label":"ARåœºæ™¯é€‰æ‹©"},I=["onClick","aria-selected","aria-controls"],W={class:"ar-scene-container"},E=F(u({__name:"AR",setup(e){const a=R("huangshan"),i=R(null);let t=null;const n=[{id:"huangshan",name:"é»„å±±",description:'ä¸­å›½è‘—åå±±è„‰ï¼Œä»¥å¥‡æ¾ã€æ€ªçŸ³ã€äº‘æµ·ã€æ¸©æ³‰ã€å†¬é›ª"äº”ç»"è‘—ç§°',previewImage:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=Huangshan%20Mountain%20scenic%20view%2C%20famous%20Chinese%20mountain%20with%20pine%20trees%20and%20clouds&image_size=landscape_16_9"},{id:"greatwall",name:"é•¿åŸ",description:"ä¸­å›½å¤ä»£ä¼Ÿå¤§çš„é˜²å¾¡å·¥ç¨‹ï¼Œä¸–ç•Œæ–‡åŒ–é—äº§",previewImage:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=Great%20Wall%20of%20China%20scenic%20view%2C%20ancient%20Chinese%20architecture%20winding%20through%20mountains&image_size=landscape_16_9"},{id:"forbidden",name:"æ•…å®«",description:"ä¸­å›½æ˜æ¸…ä¸¤ä»£çš„çš‡å®¶å®«æ®¿ï¼Œä¸–ç•Œä¸Šç°å­˜è§„æ¨¡æœ€å¤§ã€ä¿å­˜æœ€ä¸ºå®Œæ•´çš„æœ¨è´¨ç»“æ„å¤å»ºç­‘ä¹‹ä¸€",previewImage:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=Forbidden%20City%20in%20Beijing%2C%20ancient%20Chinese%20palace%20with%20red%20walls%20and%20golden%20roofs&image_size=landscape_16_9"},{id:"spring",name:"æ˜¥èŠ‚",description:"ä¸­å›½ä¼ ç»ŸèŠ‚æ—¥ï¼Œè±¡å¾ç€æ–°çš„å¼€å§‹å’Œå¸Œæœ›",previewImage:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=Chinese%20New%20Year%20celebration%2C%20red%20lanterns%20and%20traditional%20decorations&image_size=landscape_16_9"}];v(()=>{i.value&&(t=new x(i.value),s(a.value))}),g(a,e=>{i.value&&t&&(t.destroy(i.value),t=new x(i.value),s(e))});const s=e=>{if(t)switch(e){case"huangshan":t.createSpringFestivalModel("lantern");break;case"greatwall":t.createSpringFestivalModel("firecracker");break;case"forbidden":t.createSpringFestivalModel("tiger");break;case"spring":t.createSpringFestivalModel("lantern"),t.createSpringFestivalModel("firecracker")}},r=()=>{console.log("3Dåœºæ™¯å·²å¯åŠ¨")},c=()=>{i.value&&t&&(t.destroy(i.value),t=new x(i.value),s(a.value),console.log("3Dåœºæ™¯å·²é‡ç½®"))},l=()=>{i.value&&(document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():i.value.requestFullscreen().catch(e=>{console.error(`å…¨å±é”™è¯¯: ${e.message}`)}))};return(e,t)=>(w(),f("section",z,[b("div",D,[t[3]||(t[3]=b("h2",{id:"ar-heading"},"ARä½“éªŒ",-1)),t[4]||(t[4]=b("p",{class:"ar-description"},"é€šè¿‡å¢å¼ºç°å®æŠ€æœ¯ï¼Œæ¢ç´¢ä¸­å›½è‘—åæ™¯ç‚¹å’Œä¼ ç»Ÿæ–‡åŒ–çš„3Då±•ç¤º",-1)),b("div",M,[t[2]||(t[2]=_('<div class="ar-instructions" data-v-22ce267f><h3 data-v-22ce267f>ä½¿ç”¨è¯´æ˜</h3><ol aria-label="ARä½¿ç”¨æ­¥éª¤" data-v-22ce267f><li data-v-22ce267f>å‡†å¤‡æ‰‹æœºæˆ–ç”µè„‘æ‘„åƒå¤´</li><li data-v-22ce267f>æ‰«æä¸‹æ–¹ARæ ‡è®°å›¾æ¡ˆ</li><li data-v-22ce267f>æŸ¥çœ‹3Dæ¨¡å‹å±•ç¤º</li><li data-v-22ce267f>ä½¿ç”¨é¼ æ ‡æˆ–è§¦æ‘¸æ“ä½œ360Â°æŸ¥çœ‹</li></ol><div class="ar-marker" data-v-22ce267f><h4 data-v-22ce267f>ARæ ‡è®°å›¾æ¡ˆ</h4><img src="/ChunXi-AR/ar-marker.png" alt="ARæ ‡è®°å›¾æ¡ˆ" class="marker-image" data-v-22ce267f><p data-v-22ce267f>å°†æ‘„åƒå¤´å¯¹å‡†æ­¤å›¾æ¡ˆå¯åŠ¨ARä½“éªŒ</p></div><div class="ar-qrcode" data-v-22ce267f><h4 data-v-22ce267f>æˆ–æ‰«æäºŒç»´ç </h4><img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&amp;data=https://arjs-org.github.io/AR.js/examples/basic.html" alt="ARäºŒç»´ç " class="qrcode-image" data-v-22ce267f><p data-v-22ce267f>æ‰«æäºŒç»´ç åœ¨æ‰‹æœºä¸Šä½“éªŒARåŠŸèƒ½</p></div></div>',1)),b("div",S,[t[1]||(t[1]=b("h3",null,"ARåœºæ™¯é¢„è§ˆ",-1)),b("div",j,[(w(),f(k,null,C(n,e=>b("button",{key:e.id,class:A(["scene-btn",{active:a.value===e.id}]),onClick:i=>a.value=e.id,role:"tab","aria-selected":a.value===e.id,"aria-controls":a.value===e.id?`scene-${e.id}`:void 0},y(e.name),11,I)),64))]),b("div",W,[b("div",{class:"threejs-scene",ref_key:"threejsSceneRef",ref:i,role:"region","aria-label":"3Dé¢„è§ˆåœºæ™¯"},null,512),t[0]||(t[0]=b("div",{class:"ar-info",role:"alert","aria-live":"polite"},[b("div",{class:"info-content"},[b("span",{class:"info-icon"},"ğŸ¯"),b("h4",null,"3Dåœºæ™¯é¢„è§ˆ"),b("p",null,"ä½¿ç”¨é¼ æ ‡æˆ–è§¦æ‘¸æ“ä½œå¯ä»¥ï¼š"),b("ul",null,[b("li",null,"æ‹–åŠ¨ï¼šæ—‹è½¬åœºæ™¯"),b("li",null,"æ»šè½®ï¼šç¼©æ”¾åœºæ™¯"),b("li",null,"ç‚¹å‡»ï¼šé‡ç½®è§†è§’")])])],-1))]),b("div",{class:"ar-controls"},[b("button",{class:"control-btn",onClick:r,"aria-label":"å¯åŠ¨3Dåœºæ™¯"}," ğŸ”„ å¯åŠ¨3Dåœºæ™¯ "),b("button",{class:"control-btn",onClick:c,"aria-label":"é‡ç½®3Dåœºæ™¯"}," ğŸ”„ é‡ç½® "),b("button",{class:"control-btn",onClick:l,"aria-label":"åˆ‡æ¢å…¨å±"}," ğŸ“± å…¨å± ")])])])])]))}}),[["__scopeId","data-v-22ce267f"]]);export{E as default};
